# latex-sp-vstu
Изуродованный гост 2-105 для написания диплома в соответсвие с требованиями СТП ВолгГТУ

# Зачем мне нужен этот шаблон? Плюсы и минусы #

Чтобы сэкономить огромную кучу времени. Для защиты бакалаврской или магистерской работы нужно, чтобы бумажная часть соответствовала ГОСТу/стандарту ВолгГТУ (краткие требования приведены [здесь](http://wiki.poas.vstu.ru/index.php/%D0%A2%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D0%B9_%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82)).

Каждый год каждый студент тратит (бесполезно) уйму времени, тыкая в разные настройки Word'а, OpenOffice'а и так далее, причем выбранные стили часто "слетают" и приходится все делать заново. Время, затрачиваемое на оформление дипломной работы, можно значительно сократить, если не использовать перечисленные выше программы. Вместо этого можно использовать те, которые предназначены для качественной верстки документов — например, LaTeX (кстати, на западе научные работы и статьи чаще всего делают именно в нем).

В [этом репозитории](https://bitbucket.org/vostreltsov/masters-thesis) лежат "исходники" магистерской диссертации, выполненной в LaTeX. Там есть как исходники, так и полученные на выходе pdf файлы.

Плюсы использования LaTeX:

* Вы не тратите время на проверку правильности оформления документации. Вся нумерация рисунков, таблиц, приложений, библиографии делается за вас. Можно без проблем вставить источник в библиографию посреди существующих, при этом в тексте все ссылки будут автоматически (!) перенумерованы. При условии того, что документы составлены хорошо по смыслу, вы проходите нормоконтроль с первого раза.
* LaTeX дает возможность для "повторного использования кода" внутри вашей работы. Например, все входные данные для документов (имена, темы, приказы) вы задаете в файле settings.tex, а в другие просто включаете его. Никакого копипаста. Формулы, определения, всё выносится в общие файлы. В [этом же репозитории](https://bitbucket.org/vostreltsov/masters-thesis) можно видеть, как одни и те же формулы и определения из одного места (common.tex) используются в трех разных документах: ПЗ, автореферате и презентации. Поправил определение в одном месте, и все его использования автоматически обновлены.
* Лучшая приспособленность к средствам контроля версий по сравнению с doc. Видно, какие изменения были внесены в текст в каждом коммите.

Минусы использования LaTeX:

* Нужно потратить немного времени на обучение LaTeX'у.
* Несмотря на то, что шаблону не один год, в нем могут отсутствовать некоторые вещи, которые кому-то вдруг могут потребоваться, но это [решаемо](https://github.com/McLeree/latex-sp-vstu/README.md#%D0%BD%D0%B5-%D1%85%D0%B2%D0%B0%D1%82%D0%B0%D0%B5%D1%82-%D0%BA%D0%B0%D0%BA%D0%B8%D1%85-%D1%82%D0%BE-%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B5%D0%B9).

Если вы хотите заботиться только о содержании вашей работы, а не о ее форматировании - прошу читать далее.

# Почему LuaLaTeX? #

Потому что он лучше работает с юникодом. Под "лучше работает" подразумевается не только то, что он понимает входные файлы в utf8, но также генерирует нормальные pdf и работает с ttf и otf шрифтами. Ему не нужно каких-то кастомных шрифтов (в отличие от pdflatex), он просто работает из коробки.

# Не хватает каких-то возможностей? #

Создайте issue. Начиная с 2013 года много человек доделывали что-то у себя локально, не до конца понимая как оно внутри устроено, поэтому решение получалось костыльным. Младший же курс скорее всего вообще не знал про эту доделку и заново решал проблему.

# Как установить? #

## Установка LATEX ##

Необходимо скачать TEXLive [здесь](https://www.tug.org/texlive/acquire-netinstall.html).

* Для Windows нужен файл install-tl-windows.exe. ВНИМАНИЕ: на Windows с TEXLive половина людей испытывают проблемы с данным шаблоном, поэтому имеет смысл попробовать MiKTeX.
* Для Linux можно поставить пакет из репозиториев дистрибутива. 

## Установка шаблонов ##
Необходимо скачать этот репозиторий [отсюда](https://github.com/McLeree/latex-sp-vstu/archive/master.zip) или можно сделать hg clone в консоли:

```bash

hg clone https://bitbucket.org/McLeree/latex-sp-vstu
```
В результате, на вашем компьютере появится папка gost2–105

Положим, что TEXLive установился в `C:\texlive\2014`.

* Копируем папку gost2–105 из скачанного репозитория в папку `C:\texlive\2014\texmf-dist\tex\latex`.
* Чтобы шаблон нашелся, нужно запустить утилиту TEXLive Manager Settings, которая должна была добавиться в меню Пуск. В ней нажимаем меню Действия, Обновить базу данных имен файлов.

Установка завершена!

# Как настроить документ для соответствия ГОСТу? #

В целом, использование LATEX похоже на HTML верстку. Имеются команды для деления документа на секции, создания перечислений, вставки картинок и таблиц, и так далее.

Итак, первым делом нужно создать новый latex–документ. Начинаться он должен со строчек:

```latex
\documentclass[a4paper]{G2-105}
\usepackage[utf8]{luainputenc}
```

Также перед началом документа нужно указать данные студента, руководителя, нормоконтролера и заведующего кафедрой, тип документа и прочие вещи, необходимые для автоматической генерации титульных листов. Пишем следующее:

```latex
% Информация для генерации титульных листов, хедеров и футеров
\VSTUSetDocumentNumbersPrefix{}
\VSTUSetDocumentCode{МД-40-461-806-10.19-09.04.04-03-15}
\VSTUSetDocumentTypeDative{магистерской диссертации}
\VSTUSetDocumentTypeAccusative{магистерскую диссертацию}
\VSTUSetDocumentTypeEng{master's thesis}
\VSTUSetInitialData{задание, выданное научным руководителем кафедры ПОАС, утвержденное приказом ректора университета}
\VSTUSetOrder{1650--ст}{05}{ноября}{2013}
\VSTUSetDeadline{01}{июня}
\VSTUSetFaculty{Электроники и вычислительной техники}
\VSTUSetDepartment{Программное обеспечение автоматизированных систем}
\VSTUSetDepartmentCode{10.19}
\VSTUSetDirection{09.04.04 Программная инженерия}
\VSTUSetHeadOfDepartment{Зав. кафедрой ПОАС}{д.т.н., проф.}{А. М. Дворянкин}{Дворянкин Александр Михайлович}
\VSTUSetDirector{доц. каф. ПОАС}{к.т.н.}{О. А. Сычев}{Сычев Олег Александрович}
\VSTUSetStandardsAdviser{ст. преп. каф. ПОАС}{}{О. Н. Ляпина}{Ляпина Ольга Николаевна}
\VSTUSetReviewer{доц. каф. САПР и ПК ВолгГТУ}{к.т.н.}{А. В. Матохина}{Матохина Анна Владимировна}
\VSTUSetStudent{ПРИН-2Н}{В. О. Стрельцов}{Стрельцов Валерий Олегович}{Стрельцова Валерия Олеговича}
\VSTUSetStudentFullNameEng{Valeriy Streltsov}
\VSTUSetTitle{Реализация вызова подвыражения при поиске совпадения строки с регулярным выражением и генерация продолжения частичного совпадения методом конечных автоматов}
\VSTUSetTitleEng{Implementation of subexpression calls in regular expression matching and generation of partial match continuation using finite state automata}
\VSTUSetPZContents{
\begin{VSTUList}
\ulitem{Пункт содержания основной части раз}
\ulitem{Пункт содержания основной части два}
\ulitem{}
\ulitem{}
\end{VSTUList}
}
\VSTUSetPZGraphics{
\begin{VSTUNumberedList}
\ulitem{Графический материал раз}
\ulitem{Графический материал два}
\ulitem{}
\ulitem{}
\end{VSTUNumberedList}
}

\VSTUAddChapterWordToTOC % обязательно для ПЗ в магистерских диссертациях
\VSTUInitializePZ
```

Эти команды устанавливают: префикс номеров рисунков и таблиц (актуально для отдельных приложений, например, ТЗ, но в данном случае он пустой), код документа, номер и дату приказа, различные ФИО и названия работы на русском и английском языках. Последняя команда автоматически создает все нужные титульные листы пояснительной записки.

При добавлении пунктов в списки основной части ПЗ и графического материала необходимо вручную контролировать количество item'ов. Пустые строки добавляются с помощью `\ulitem{}`.

При оформлении ТЗ (в виде отдельного документа!) первая и последняя команда будут иметь вид:

```latex
\VSTUSetDocumentNumbersPrefix{А.}
\VSTUMakeCenteredTOC % Только для ГОСТ 19!!! - делает слово "Содержание" по центру
...
\VSTUInitializeTZ
```

Вместо троеточия идут прежние команды. Верхняя команда заставит рисунки и таблицы иметь номера вида "А.xx", а последняя добавит титульные листы технического задания. На этом настройка документа закончена. Можно приступать к главной части работы, не отвлекаясь более на его оформление. Все отступы, шрифты и прочие штуки
LaTeX расставит за вас.

В магистерских диссертациях требуется писать слово "Глава'' в содержании. Для этого нужно вызвать команду `\VSTUAddChapterWordToTOC` перед командой добавления титульного листа.

Возможно также использовать шаблон для 

* семестровых заданий (`VSTUInitializeSWOne`, `VSTUInitializeSWTwo` для одного и двух студентов соответственно),
* курсовых работ (`VSTUInitializeCWOne`, `VSTUInitializeCWTwo`)
* курсовых проектов (`VSTUInitializeCPOne`, `VSTUInitializeCPTwo`).

Напоследок пара мелких, но важных моментов, которые не удалось полностью автоматизировать:

* Если подряд идут два заголовка, между ними нужно написать команду `\ttl` — это сделает расстояние между ними меньше, как нужно по ГОСТу.
* Ссылки на приложения среди текста придется писать руками, т.е. метки к приложениям проставлять нельзя.

# Авторы #
* Алексей Медников — mcleree@gmail.com
* Валерий Стрельцов — vostreltsov@gmail.com
